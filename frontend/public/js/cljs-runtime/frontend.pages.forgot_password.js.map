{"version":3,"sources":["frontend/pages/forgot_password.cljs"],"mappings":";;;;;AAUA,wDAAA,xDAAMA,wHAAwBC;AAA9B,OAEG,AAACC,kCAAoBD,zCACrB,qDACC;AAAA,AACE,IAAME,WAAS,AAACC;AAAhB,AACE,wFAAA,yCAAA,zHAACD,yCAAAA,4DAAAA;;;AAET,wCAAA,xCAAOE,wFAAQC;AAAf,AACE,IAAAC,aAAwB,yCAAA,zCAACO;YAAzB,AAAAN,4CAAAD,WAAA,IAAA,nEAAON;gBAAP,AAAAO,4CAAAD,WAAA,IAAA,vEAAaM;IAAbJ,aAAA,AAAAC,gBACiD,sDAAA,mFAAA,zIAACQ;IADlDT,iBAAA,AAAAE,4BAAAF;YAAA,AAAAG,4CAAAH,eAAA,nEACcM;6BADd,AAAAH,4CAAAH,eAAA,pFACoBO;qBADpB,AAAAJ,4CAAAH,eAAA,5EACqCQ;AADrC,AAAA,0FAAA,2GAAA,2CAAA,2DAAA,2CAAA,0DAAA,IAAA,gDAAA,aAAA,2DAAA,2CAAA,0DAAA,IAAA,gDAAA,YAAA,gEAAA,2CAAA,6DAAA,YAAA,gEAAA,iJAAA,mFAAA,mDAAA,2CAAA,gEAAA,cAAA,mFAAA,iDAAA,2CAAA,gEAAA,wJAAA,0BAAA,mFAAA,mDAAA,2CAAA,gEAAA,oBAAA,mFAAA,8CAAA,2CAAA,gEAAA,gCAAA,9lEAEM,AAAAE,6qEAiBF,0CAAA,mFAAA,mDAAA,2CAAA,gEAAA,eAAA,mFAAA,8CAAA,2CAAA,gEAAA,6LAAA,mFAAA,sDAAA,2CAAA,r3BAAIH,oiBAGA,CAAA,+EAAA,PAAiCf,uUAChB;AAAA,AACE,OAACD,sDAAuBC;WAL/C,kHAAA,2CAAA,iHAAA,qDAAA,OAAA,mEAAA,iBAAA,4DAAA,6DAAA,4DAAA,gEAAA,2QAAA,30BAMImB,+HACcC,kQAGApB,ygBAKC,WAAKqB;AAAL,AACE,IAAAC,WAAW,AAAA,AAAID;AAAf,AAAA,0FAAAC,iCAAAA,nHAACV,0CAAAA,oDAAAA;k0DAnC1B,mFAAA,mDAAA,2CAAA,gEAAA,kEAAA,mFAAA,8CAAA,2CAAA,gEAAA,gCAAA,mFAAA,mGAAA,2CAAA,gDAAA,UAAA,gEAAA,yCAAA,/6EAmBI,mFAAA,8GAAA,2CAAA,gEAAA,uXAAA,iEAAA,2CAAA,uDAAA,aAAA,4DAAA,2CAAA,uDAAA,aAAA,qDAAA,t3CAkBG,yBAAA,AAAA,mFAAA,8CAAA,2CAAA,gEAAA,wDAAA,3SAAME,6RAEHA,sJAEC,AAAAI,k8BAQH,kCAAA,mFAAA,6GAAA,2CAAA,gEAAA,+CAAA,1WAAIF,kJACEO,q8BAILC;;AAIX,sCAAA,tCAAMC,oFAAMpB;AAAZ,AAAA,0FAAA,iDACOD,sCAAOC","names":["frontend.pages.forgot-password/handle-forgot-password","email","frontend.api.core/forgot-password","navigate","js/module$node_modules$react_router_dom$dist$main.useNavigate","frontend.pages.forgot-password/f-view","props","vec__16305","cljs.core.nth","map__16308","cljs.core/deref","cljs.core/--destructure-map","cljs.core.get","set-email","js/module$node_modules$react$index.useState","error","reset-link-sent?","loading?","re_frame.core.subscribe","module$node_modules$framer_motion$dist$cjs$index/motion","frontend.components.input/view","js/module$node_modules$lucide_react$dist$cjs$lucide_react.Mail","e","G__16309","js/module$node_modules$lucide_react$dist$cjs$lucide_react.Loader","js/module$node_modules$react_router_dom$dist$main.Link","frontend.pages.forgot-password/view"],"sourcesContent":["(ns frontend.pages.forgot-password\n  (:require\n   [\"framer-motion\" :refer [motion]]\n   [\"react\" :as react]\n   [\"lucide-react\" :refer [Mail Lock Loader]]\n   [\"react-router-dom\" :refer [Link useNavigate]]\n   [re-frame.core :as rf]\n   [frontend.api.core :as api]\n   [frontend.components.input :as input]))\n\n(defn handle-forgot-password [email]\n  (->\n   (api/forgot-password email)\n   (.then\n    (fn []\n      (let [navigate (useNavigate)]\n        (navigate \"/reset-password\"))))))\n\n(defn- f-view [props]\n  (let [[email set-email] (react/useState \"\")\n        {:keys [error reset-link-sent? loading?]} @(rf/subscribe [:get-auth-data])]\n    [:> motion.div\n     {:initial {:opacity 0\n                :y       20}\n      :animate {:opacity 1\n                :y       0}\n      :transition {:duration 0.5}\n      :className \"max-w-md w-full bg-gray-800 bg-opacity-50 backdrop-filter \n                    backdrop-blur-xl rounded-2xl shadow-xl overflow-hidden\"}\n     [:div {:className \"p-8\"}\n      [:h2 {:className \"text-3xl mb-6 font-bold text-center bg-gradient-to-r from-orange-400 \n                          to-emerald-500 text-transparent bg-clip-text\"}\n       \"Forgot Password\"]\n\n      [:div {:className \"flex mb-5\"}\n       [:p {:className \"text-sm text-gray-400\"}\n        \"Enter your email address and we will send you the reset link\"]]\n\n      (if reset-link-sent?\n        [:div {:className \"flex\"}\n         [:p {:className \"text-sm text-gray-400\"}\n          (str \"If an account exists for \" email \", you will receive a password reset link shortly\")]]\n        [:form {:on-submit (fn []\n                             (handle-forgot-password email))}\n         [input/view\n          {:icon        Mail\n           :type        \"text\"\n           :placeholder \"Emaill address\"\n           :value       email\n           :sub-type     :default\n           :class-name  \"w-full pl-10 pr-3 py-2 bg-gray-800 bg-opacity-100 rounded-lg \n                               border border-gray-700 focus:border-orange-500 focus:ring-2 \n                               focus:ring-orange-500 text-white placeholder-gray-400 transition duration-200\"\n           :on-change    (fn [e]\n                           (set-email (-> e .-target .-value)))}]\n\n         (when error\n           [:p {:className \"text-red-500 font-semibold mb-2\"}\n            error])\n\n         [:> motion.button\n          {:className \"mt-3 w-full py-3 px-4 bg-gradient-to-r from-yellow-500 to-emerald-600 text-white \n                             font-bold rounded-lg shadow-lg hover:from-orange-600 hover:to-emerald-700 focus:outline-none \n                             focus:ring-2 focus:ring-orange-500 focus:fing-offset-2 focus:ring-offset-gray-900 transition \n                             duration-200\"\n           :whileHover {:scale 1.02}\n           :whileTop   {:scale 0.98}\n           :type       \"submit\"}\n          (if loading?\n            [:> Loader {:className \"w-6 h-6 animate-spin mx-auto\"}]\n            \"Send reset link\")]])]\n     [:div {:className \"px-8 py-4 bg-gray-900 bg-opacity-50 flex justify-center\"}\n      [:p {:className \"text-sm text-gray-400\"}\n       [:> Link {:to \"/signup\"\n                 :className \"text-green-400 hover:underline\"}\n        \"Back to login? \"]]]]))\n\n(defn view [props]\n  [:f> f-view props])"]}