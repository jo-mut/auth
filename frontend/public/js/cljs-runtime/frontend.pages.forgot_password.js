goog.provide('frontend.pages.forgot_password');
var module$node_modules$framer_motion$dist$cjs$index=shadow.js.require("module$node_modules$framer_motion$dist$cjs$index", {});
var module$node_modules$react$index=shadow.js.require("module$node_modules$react$index", {});
var module$node_modules$lucide_react$dist$cjs$lucide_react=shadow.js.require("module$node_modules$lucide_react$dist$cjs$lucide_react", {});
var module$node_modules$react_router_dom$dist$main=shadow.js.require("module$node_modules$react_router_dom$dist$main", {});
frontend.pages.forgot_password.handle_forgot_password = (function frontend$pages$forgot_password$handle_forgot_password(email){
return frontend.api.core.forgot_password(email).then((function (){
var navigate = module$node_modules$react_router_dom$dist$main.useNavigate();
return (navigate.cljs$core$IFn$_invoke$arity$1 ? navigate.cljs$core$IFn$_invoke$arity$1("/reset-password") : navigate.call(null, "/reset-password"));
}));
});
frontend.pages.forgot_password.f_view = (function frontend$pages$forgot_password$f_view(props){
var vec__16305 = module$node_modules$react$index.useState("");
var email = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__16305,(0),null);
var set_email = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__16305,(1),null);
var map__16308 = cljs.core.deref(re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"get-auth-data","get-auth-data",-1689545573)], null)));
var map__16308__$1 = cljs.core.__destructure_map(map__16308);
var error = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__16308__$1,new cljs.core.Keyword(null,"error","error",-978969032));
var reset_link_sent_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__16308__$1,new cljs.core.Keyword(null,"reset-link-sent?","reset-link-sent?",485835087));
var loading_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__16308__$1,new cljs.core.Keyword(null,"loading?","loading?",1905707049));
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$framer_motion$dist$cjs$index.motion.div,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"initial","initial",1854648214),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"opacity","opacity",397153780),(0),new cljs.core.Keyword(null,"y","y",-1757859776),(20)], null),new cljs.core.Keyword(null,"animate","animate",1850194573),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"opacity","opacity",397153780),(1),new cljs.core.Keyword(null,"y","y",-1757859776),(0)], null),new cljs.core.Keyword(null,"transition","transition",765692007),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"duration","duration",1444101068),0.5], null),new cljs.core.Keyword(null,"className","className",-1983287057),"max-w-md w-full bg-gray-800 bg-opacity-50 backdrop-filter \n                    backdrop-blur-xl rounded-2xl shadow-xl overflow-hidden"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"p-8"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"text-3xl mb-6 font-bold text-center bg-gradient-to-r from-orange-400 \n                          to-emerald-500 text-transparent bg-clip-text"], null),"Forgot Password"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"flex mb-5"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"text-sm text-gray-400"], null),"Enter your email address and we will send you the reset link"], null)], null),(cljs.core.truth_(reset_link_sent_QMARK_)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"flex"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"text-sm text-gray-400"], null),["If an account exists for ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(email),", you will receive a password reset link shortly"].join('')], null)], null):new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form","form",-1624062471),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-submit","on-submit",1227871159),(function (){
return frontend.pages.forgot_password.handle_forgot_password(email);
})], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [frontend.components.input.view,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"icon","icon",1679606541),module$node_modules$lucide_react$dist$cjs$lucide_react.Mail,new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Emaill address",new cljs.core.Keyword(null,"value","value",305978217),email,new cljs.core.Keyword(null,"sub-type","sub-type",-997954412),new cljs.core.Keyword(null,"default","default",-1987822328),new cljs.core.Keyword(null,"class-name","class-name",945142584),"w-full pl-10 pr-3 py-2 bg-gray-800 bg-opacity-100 rounded-lg \n                               border border-gray-700 focus:border-orange-500 focus:ring-2 \n                               focus:ring-orange-500 text-white placeholder-gray-400 transition duration-200",new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (e){
var G__16309 = e.target.value;
return (set_email.cljs$core$IFn$_invoke$arity$1 ? set_email.cljs$core$IFn$_invoke$arity$1(G__16309) : set_email.call(null, G__16309));
})], null)], null),(cljs.core.truth_(error)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"text-red-500 font-semibold mb-2"], null),error], null):null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$framer_motion$dist$cjs$index.motion.button,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"className","className",-1983287057),"mt-3 w-full py-3 px-4 bg-gradient-to-r from-yellow-500 to-emerald-600 text-white \n                             font-bold rounded-lg shadow-lg hover:from-orange-600 hover:to-emerald-700 focus:outline-none \n                             focus:ring-2 focus:ring-orange-500 focus:fing-offset-2 focus:ring-offset-gray-900 transition \n                             duration-200",new cljs.core.Keyword(null,"whileHover","whileHover",-678588413),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scale","scale",-230427353),1.02], null),new cljs.core.Keyword(null,"whileTop","whileTop",340419246),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scale","scale",-230427353),0.98], null),new cljs.core.Keyword(null,"type","type",1174270348),"submit"], null),(cljs.core.truth_(loading_QMARK_)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$lucide_react$dist$cjs$lucide_react.Loader,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"w-6 h-6 animate-spin mx-auto"], null)], null):"Send reset link")], null)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"px-8 py-4 bg-gray-900 bg-opacity-50 flex justify-center"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"className","className",-1983287057),"text-sm text-gray-400"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,">",">",-555517146),module$node_modules$react_router_dom$dist$main.Link,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"to","to",192099007),"/signup",new cljs.core.Keyword(null,"className","className",-1983287057),"text-green-400 hover:underline"], null),"Back to login? "], null)], null)], null)], null);
});
frontend.pages.forgot_password.view = (function frontend$pages$forgot_password$view(props){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"f>","f>",1484564198),frontend.pages.forgot_password.f_view,props], null);
});

//# sourceMappingURL=frontend.pages.forgot_password.js.map
