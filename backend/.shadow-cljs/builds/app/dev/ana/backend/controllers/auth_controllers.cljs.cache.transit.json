["^ ","~:output",["^ ","~:js","goog.provide('backend.controllers.auth_controllers');\nbackend.controllers.auth_controllers.get_env = (function backend$controllers$auth_controllers$get_env(key){\nreturn (process.env[key]);\n});\nbackend.controllers.auth_controllers.generate_token = (function backend$controllers$auth_controllers$generate_token(){\nreturn cljs.core.str.cljs$core$IFn$_invoke$arity$1(Math.floor(((Math.random() * (900000)) + (100000))));\n});\nbackend.controllers.auth_controllers.generate_token_and_set_cookies = (function backend$controllers$auth_controllers$generate_token_and_set_cookies(res,user_id,secret){\nvar options = ({\"expiresIn\": \"7d\"});\nvar token = shadow.js.shim.module$jsonwebtoken.sign(cljs.core.clj__GT_js(new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"user-id\",\"user-id\",-206822291),user_id], null)),secret,options);\nres.cookie(\"auth\",token,({\"httpOnly\": true, \"secure\": false, \"sameSite\": \"strict\", \"maxAge\": (((((7) * (24)) * (60)) * (60)) * (1000))}));\n\nreturn token;\n});\nbackend.controllers.auth_controllers.handle_sign_up = (function backend$controllers$auth_controllers$handle_sign_up(res,p__12172){\nvar map__12173 = p__12172;\nvar map__12173__$1 = cljs.core.__destructure_map(map__12173);\nvar email = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12173__$1,new cljs.core.Keyword(null,\"email\",\"email\",1415816706));\nvar password = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12173__$1,new cljs.core.Keyword(null,\"password\",\"password\",417022471));\nvar name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12173__$1,new cljs.core.Keyword(null,\"name\",\"name\",1843675177));\nvar token_expires_at = (((((24) * (60)) * (60)) * (1000)) + Date.now());\nvar verification_token = backend.controllers.auth_controllers.generate_token();\nreturn shadow.js.shim.module$bcryptjs.hash(password,(10)).then((function (hashed_password){\nvar user = (new backend.db.models.user_models.user(({\"email\": email, \"password\": hashed_password, \"name\": name, \"verificationTokenExpiredAt\": token_expires_at, \"verificationToken\": verification_token})));\nreturn promesa.core.catch$.cljs$core$IFn$_invoke$arity$2(promesa.protocols._bind(promesa.protocols._promise(null),(function (___11991__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(user.save()),(function (saved_user){\nreturn promesa.protocols._bind(promesa.protocols._promise((saved_user.password = null)),(function (___11959__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(backend.controllers.auth_controllers.generate_token_and_set_cookies(res,new cljs.core.Keyword(null,\"_id\",\"_id\",-789960287).cljs$core$IFn$_invoke$arity$1(cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(saved_user)),\"mysecret\")),(function (___11959__auto____$1){\nreturn promesa.protocols._bind(promesa.protocols._promise(backend.mailtrap.emails.send_verification_email(backend.controllers.auth_controllers.get_env(\"EMAIL\"),verification_token)),(function (___11959__auto____$2){\nreturn promesa.protocols._promise(res.status((201)).json(({\"success\": true, \"message\": \"User created successfully\", \"user\": cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(saved_user)})));\n}));\n}));\n}));\n}));\n})),(function (err){\nreturn res.status((500)).json(({\"success\": false, \"message\": \"Error saving user\", \"error\": err.message}));\n}));\n})).catch((function (err){\nreturn res.status((500)).json(({\"success\": false, \"message\": \"Error hashing password\", \"error\": err.message}));\n}));\n});\nbackend.controllers.auth_controllers.sign_up = (function backend$controllers$auth_controllers$sign_up(){\nreturn (function (req,res){\nvar body = cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(req.body,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"keywordize-keys\",\"keywordize-keys\",1310784252),true], 0));\nvar map__12174 = body;\nvar map__12174__$1 = cljs.core.__destructure_map(map__12174);\nvar email = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12174__$1,new cljs.core.Keyword(null,\"email\",\"email\",1415816706));\nvar password = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12174__$1,new cljs.core.Keyword(null,\"password\",\"password\",417022471));\nvar name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12174__$1,new cljs.core.Keyword(null,\"name\",\"name\",1843675177));\ncljs.core.println.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([res], 0));\n\nreturn promesa.protocols._bind(promesa.protocols._promise(null),(function (___11991__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(promesa.core.promise.cljs$core$IFn$_invoke$arity$1(backend.db.models.user_models.user.findOne(({\"email\": email})))),(function (user_exist_QMARK_){\nreturn promesa.protocols._promise((cljs.core.truth_(user_exist_QMARK_)?res.status((400)).json(({\"success\": false, \"message\": \"User already exists\"})):(function (){try{return backend.controllers.auth_controllers.handle_sign_up(res,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"email\",\"email\",1415816706),email,new cljs.core.Keyword(null,\"password\",\"password\",417022471),password,new cljs.core.Keyword(null,\"name\",\"name\",1843675177),name], null));\n}catch (e12175){var e = e12175;\nreturn res.status((500)).json(({\"success\": false, \"message\": e.message}));\n}})()));\n}));\n}));\n});\n});\nbackend.controllers.auth_controllers.login = (function backend$controllers$auth_controllers$login(){\nreturn (function (req,res){\nvar map__12176 = req.body;\nvar map__12176__$1 = cljs.core.__destructure_map(map__12176);\nvar email = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12176__$1,new cljs.core.Keyword(null,\"email\",\"email\",1415816706));\nvar password = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__12176__$1,new cljs.core.Keyword(null,\"password\",\"password\",417022471));\nreturn promesa.protocols._bind(promesa.protocols._promise(null),(function (___11991__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(backend.db.models.user_models.user.findOne(({\"email\": email}))),(function (user){\nreturn promesa.protocols._bind(promesa.protocols._promise((cljs.core.truth_(user)?null:res.status((400)).json(({\"subject\": false, \"message\": \"Invalid credentials\"})))),(function (___11959__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(promesa.protocols._bind(promesa.protocols._promise(null),(function (___11991__auto____$1){\nreturn promesa.protocols._bind(promesa.protocols._promise(shadow.js.shim.module$bcryptjs.hash.compare(password,user.password)),(function (isPasswordValid){\nreturn promesa.protocols._promise((cljs.core.truth_(isPasswordValid)?null:res.status((400)).json(({\"success\": false, \"message\": \"Invalid credentials\"}))));\n}));\n}))),(function (___11959__auto____$1){\nreturn promesa.protocols._bind(promesa.protocols._promise(console.log(\"res ********* \",res)),(function (___11959__auto____$2){\nreturn promesa.protocols._bind(promesa.protocols._promise(user.save()),(function (___11959__auto____$3){\nreturn promesa.protocols._promise(res.status((200)).json(({\"success\": true, \"message\": \"Logged in successfully\", \"user\": cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(user),new cljs.core.Keyword(null,\"password\",\"password\",417022471),null)})));\n}));\n}));\n}));\n}));\n}));\n}));\n});\n});\nbackend.controllers.auth_controllers.logout = (function backend$controllers$auth_controllers$logout(){\nreturn (function (req,res){\nreturn res.status((200)).json(({\"success\": true, \"message\": \"Logged out successfully\"}));\n});\n});\nbackend.controllers.auth_controllers.verify_email = (function backend$controllers$auth_controllers$verify_email(){\nreturn (function (req,res){\nvar body = req.body;\nvar code = body.code;\nreturn promesa.protocols._bind(promesa.protocols._promise(null),(function (___11991__auto__){\nreturn promesa.protocols._bind(promesa.protocols._promise(promesa.core.catch$.cljs$core$IFn$_invoke$arity$2(promesa.core.then.cljs$core$IFn$_invoke$arity$2(backend.db.models.user_models.user.findOne(({\"verificationToken\": code, \"verificationTokenExpiredAt\": ({\"$gt\": Date.now()})})),(function (user){\nvar user_map = cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(user);\nreturn user_map;\n})),(function (e){\nreturn console.log(\"user not found \",e);\n}))),(function (user){\nreturn promesa.protocols._promise(((cljs.core.not(user))?res.status((400)).json(({\"subject\": false, \"message\": \"Invalid or expired verification code\"})):null));\n}));\n}));\n});\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","backend/controllers/auth_controllers.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",41],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.pprint","~$cljs.pprint","~$clojure.spec.alpha","~$cljs.spec.alpha","~$react","~$shadow.js.shim.module$react","~$clojure.core","~$cljs.core"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$backend.controllers.auth-controllers","~:reader-aliases",["^ "],"~:js-aliases",["^ ","bcryptjs","~$shadow.js.shim.module$bcryptjs","jsonwebtoken","~$shadow.js.shim.module$jsonwebtoken"],"~:op","~:ns","~:imports",null,"~:requires",["^ ","~$bcryptjs","^N","~$emails","~$backend.mailtrap.emails","~$p","~$promesa.core","^X","^X","^E","^E","~$goog","^Y","^P","^P","~$backend.db.models.user-models","^Z","^W","^W","^N","^N","~$jwt","^P","~$models","^Z"],"~:seen",["^H",["~:require"]],"~:uses",null,"~:require-macros",["^ ","^E","^E","~$p","^X","^X","^X"],"~:form",["~#list",["~$ns","^J",["^16",["^12",["bcryptjs","~:as","^U"],["jsonwebtoken","^18","^["],["^X","^18","~$p"],["^W","^18","^V"],["^Z","^18","^10"]]]]],"~:flags",["^ ","^12",["^H",[]]],"~:js-deps",[["^ ","^18","^U","~:shadow.build.ns-form/lib","bcryptjs"],["^ ","^18","^[","^1;","jsonwebtoken"]],"~:deps",["^Y","^E","^N","^P","^X","^W","^Z"]],"^R","^J","~:resource-id",["~:shadow.build.classpath/resource","backend/controllers/auth_controllers.cljs"],"~:compiled-at",1740750554020,"^K",["^ ","^U","^N","^V","^W","~$p","^X","^X","^X","^E","^E","^Y","^Y","^P","^P","^Z","^Z","^W","^W","^N","^N","^[","^P","^10","^Z"],"~:resource-name","backend/controllers/auth_controllers.cljs","~:warnings",[],"~:source","(ns backend.controllers.auth-controllers\n  (:require\n   [\"bcryptjs\" :as bcryptjs]\n   [\"jsonwebtoken\" :as jwt]\n   [promesa.core :as p]\n   [backend.mailtrap.emails :as emails]\n   [backend.db.models.user-models :as models]))\n\n(defn get-env [key]\n  (aget js/process.env key))\n\n(defn generate-token []\n  (str (-> (js/Math.random)\n           (* 900000)\n           (+ 100000)\n           (js/Math.floor))))\n\n(defn generate-token-and-set-cookies\n  [res user-id secret]\n  (let [options #js {:expiresIn \"7d\"}\n        token (.sign jwt (clj->js {:user-id user-id}) secret options)]\n    (-> (.cookie res \"auth\" token #js {:httpOnly true\n                                       :secure   false\n                                       :sameSite \"strict\"\n                                       :maxAge   (* 7 24 60 60 1000)}))\n    token))\n\n(defn handle-sign-up\n  [res {:keys [email password name]}]\n  (let [token-expires-at   (+ (* 24 60 60 1000) (.now js/Date))\n        verification-token (generate-token)]\n    (-> (bcryptjs/hash password 10)\n        (.then (fn [hashed-password]\n                 (let [user (models/user. #js {:email                      email\n                                               :password                   hashed-password\n                                               :name                       name\n                                               :verificationTokenExpiredAt token-expires-at\n                                               :verificationToken          verification-token})]\n                   (->\n                    (p/let [saved-user (.save user)]\n                      (set! (.-password saved-user) nil)\n                      (generate-token-and-set-cookies res (:_id (js->clj saved-user)) \"mysecret\")\n                      (emails/send-verification-email (get-env \"EMAIL\") verification-token)\n                      (-> res\n                          (.status 201)\n                          (.json #js {:success true\n                                      :message \"User created successfully\"\n                                      :user    (js->clj saved-user)})))\n                    (p/catch (fn [err]\n                               (-> res\n                                   (.status 500)\n                                   (.json #js {:success false\n                                               :message \"Error saving user\"\n                                               :error   (.-message err)}))))))))\n        (.catch (fn [err]\n                  (-> res\n                      (.status 500)\n                      (.json #js {:success false\n                                  :message \"Error hashing password\"\n                                  :error   (.-message err)})))))))\n\n\n(defn sign-up []\n  (fn [req res]\n    (let [body (js->clj (.-body req) :keywordize-keys true)\n          {:keys [email password name]} body]\n      (println res)\n      (p/let [user-exist? (-> (.findOne models/user #js {:email email}) (p/promise))]\n        (if user-exist?\n          (do\n            (-> res\n                (.status 400)\n                (.json #js {:success false\n                            :message \"User already exists\"})))\n          (try\n            ;; (when-not (or email password name)\n            ;;   (throw (js/Error. \"All fields are required\")))\n            (handle-sign-up res {:email    email\n                                 :password password\n                                 :name     name})\n            (catch :default e\n              (-> res\n                  (.status 500)\n                  (.json #js {:success false\n                              :message (.-message e)})))))))))\n\n\n\n(defn login []\n  (fn [req res]\n    (let [{:keys [email password]} (.-body req)]\n      (p/let [user (.findOne models/user #js {:email email})]\n        (when-not user\n          (-> res\n              (.status 400)\n              (.json #js {:subject false\n                          :message \"Invalid credentials\"})))\n        (p/let [isPasswordValid (-> bcryptjs/hash\n                                    (.compare password (.-password user)))]\n          (when-not isPasswordValid\n            (-> res\n                (.status 400)\n                (.json #js {:success false\n                            :message \"Invalid credentials\"}))))\n        (js/console.log \"res ********* \" res)\n        ;; (generate-token-and-set-cookies res (.-_id res))\n        ;; (set! (.-lastLogin user) (js/Date.))\n        (.save user)\n        (-> res\n            (.status 200)\n            (.json #js {:success true\n                        :message \"Logged in successfully\"\n                        :user    (assoc (js->clj user) :password nil)}))))))\n\n(defn logout []\n  (fn [req res]\n    ;; (.clearCookie res \"token\")\n    (-> res\n        (.status 200)\n        (.json #js {:success true\n                    :message \"Logged out successfully\"}))))\n\n\n(defn verify-email []\n  (fn [req res]\n    (let [body (.-body req)\n          code (.-code body)]\n      (->\n       (p/let [user (-> (.findOne models/user #js {:verificationToken code\n                                                   :verificationTokenExpiredAt #js {:$gt (js/Date.now)}})\n                        (p/then (fn [user]\n                                  (let [user-map (js->clj user)]\n                                    user-map)))\n                        (p/catch (fn [e]\n                                   (js/console.log \"user not found \" e))))]\n\n         (when (not user)\n           (-> res\n               (.status 400)\n               (.json #js {:subject false\n                           :message \"Invalid or expired verification code\"})))\n\n        ;;  (p/then\n        ;;   (fn [user]\n        ;;     (assoc user :isVerified true\n        ;;            :verificationToken nil\n        ;;            :verificationTokenExpiredAt nil)))\n        ;;  (p/then\n        ;;   (fn [user]\n        ;;     (->\n        ;;      (.save (clj->js user))\n        ;;      (.then (fn []\n        ;;               (emails/send-welcome-email (:email user) (:name user))\n        ;;               (js/console.log \"saved user \")))\n        ;;      (.catch (fn [e]\n        ;;                (js/console.log \"Failed to save user\"))))))\n\n        ;;  (p/then\n        ;;   (fn [user]\n        ;;     (->\n        ;;      (.status 200)\n        ;;      (.json #js {:subject true\n        ;;                  :message \"Email verified successfully\"\n        ;;                  :user    (clj->js (assoc user :password nil))}))))\n        )))))","~:reader-features",["^H",["~:cljs"]],"~:used-var-namespaces",["^H",["~$promesa.protocols","^J","^X","^E","~$js","^Z","^W"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["backend.controllers.auth-controllers/get-env","key","js/process.env","backend.controllers.auth-controllers/generate-token","js/Math.random","js/Math.floor","backend.controllers.auth-controllers/generate-token-and-set-cookies","res","user-id","secret","options","token","js/shadow.js.shim.module$jsonwebtoken","cljs.core/clj->js","p__12172","map__12173","cljs.core/--destructure-map","cljs.core.get","backend.controllers.auth-controllers/handle-sign-up","email","password","name","token-expires-at","js/Date","verification-token","js/shadow.js.shim.module$bcryptjs.hash","hashed-password","user","backend.db.models.user-models/user","promesa.protocols/-bind","promesa.protocols/-promise","___11991__auto__","___11959__auto__","saved-user","cljs.core.js__GT_clj","backend.mailtrap.emails/send-verification-email","promesa.core.catch$","err","backend.controllers.auth-controllers/sign-up","req","map__12174","body","cljs.core.println","user-exist?","promesa.core.promise","e12175","e","backend.controllers.auth-controllers/login","map__12176","isPasswordValid","js/console.log","cljs.core.assoc","backend.controllers.auth-controllers/logout","backend.controllers.auth-controllers/verify-email","code","js/Date.now","promesa.core.then","user-map","cljs.core/not"]],"~:used-vars",["^H",["~$cljs.core/--destructure-map","~$backend.controllers.auth-controllers/handle-sign-up","~$js/Math.floor","~$promesa.core/promise","~$backend.controllers.auth-controllers/get-env","~$backend.db.models.user-models/user","~$backend.controllers.auth-controllers/verify-email","~$backend.controllers.auth-controllers/generate-token-and-set-cookies","~$promesa.core/catch","~$js/Date","~$js/process.env","~$js/shadow.js.shim.module$jsonwebtoken","~$promesa.protocols/-promise","~$js/shadow.js.shim.module$bcryptjs.hash","~$cljs.core/js->clj","~$js/Date.now","~$backend.controllers.auth-controllers/login","~$cljs.core/get","~$backend.controllers.auth-controllers/sign-up","~$backend.mailtrap.emails/send-verification-email","~$backend.controllers.auth-controllers/logout","~$cljs.core/clj->js","~$js/console.log","~$cljs.core/println","~$promesa.core/then","~$js/Math.random","~$cljs.core/not","~$cljs.core/assoc","~$backend.controllers.auth-controllers/generate-token","~$promesa.protocols/-bind"]]],"~:cache-keys",["~#cmap",[["^1>","goog/dom/tagname.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^H",[]],"~:deps-syms",["^Y","~$goog.dom.HtmlElement"]]],["^1>","backend/controllers/auth_controllers.cljs"],["8fffa6a5b9aaf65224473f13d5e2520bc86a7b05","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^N","^P","^X","^W","^Z"]]],["^1>","goog/html/trustedtypes.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/labs/useragent/browser.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.labs.userAgent.util","~$goog.labs.userAgent.highEntropy.highEntropyValue","~$goog.asserts","~$goog.string.internal","~$goog.labs.userAgent.highEntropy.highEntropyData","~$goog.labs.userAgent"]]],["^1>","goog/html/safeurl.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.string.Const","~$goog.string.TypedString","^2I"]]],["^1>","goog/array/array.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H"]]],["^1>","goog/debug/error.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/flags/flags.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","promesa/impl.cljc"],["a4fe657acbb7c1b0539820874bab2fa0b59bb229","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^1F","~$promesa.util","~$promesa.exec"]]],["^1>","goog/dom/nodetype.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["~:shadow.build.js-support/require","mongoose"],["~$shadow.js.shim.module$mongoose","shadow.js.shim.module$mongoose.js","require","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$shadow.js"]]],["^1>","goog/labs/useragent/highentropy/highentropyvalue.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2F","^2I"]]],["^1>","backend/db/models/user_models.cljs"],["e37d46ef23383f081ba6c6df9759e9cb16e6a480","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^2S"]]],["^1>","goog/string/typedstring.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^2R","bcryptjs"],["^N","shadow.js.shim.module$bcryptjs.js","require","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2T"]]],["^1>","shadow/js.js"],["5e42cf82db7046093236c00a76374192709aea80","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/object/object.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/dom/asserts.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H"]]],"~:SHADOW-TIMESTAMP",[1733506754000,1733506754000,1715719162000],["^1>","promesa/util.cljc"],["a4fe657acbb7c1b0539820874bab2fa0b59bb229","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^1F"]]],["^1>","goog/math/long.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","~$goog.reflect"]]],["^1>","goog/html/trustedresourceurl.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","~$goog.fs.blob","^2L","~$goog.html.SafeScript","~$goog.html.trustedtypes","^2N","^2O"]]],["^1>","goog/string/internal.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/functions/functions.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/html/safestyle.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2N","~$goog.html.SafeUrl","^2O","^2H","^2I"]]],["^1>","goog/dom/safe.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","~$goog.asserts.dom","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","^2X","~$goog.html.SafeStyle","^2Z","^2M","~$goog.html.uncheckedconversions","^2N","^2I"]]],["^1>","goog/asserts/dom.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.dom.TagName","^2H","~$goog.dom.element"]]],["^1>","goog/html/safehtml.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2N","^2X","^33","~$goog.html.SafeStyleSheet","^2Z","^35","^2M","^2O","^2H","~$goog.labs.userAgent.browser","~$goog.array","~$goog.object","^2I","~$goog.dom.tags","^2Y"]]],["^1>","goog/dom/tags.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^3:"]]],["^1>","goog/fs/blob.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/asserts/asserts.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^2R","jsonwebtoken"],["^P","shadow.js.shim.module$jsonwebtoken.js","require","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2T"]]],["^2R","mailtrap"],["~$shadow.js.shim.module$mailtrap","shadow.js.shim.module$mailtrap.js","require","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2T"]]],["^1>","goog/uri/uri.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^39","^2H","~$goog.collections.maps","~$goog.string","~$goog.structs","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1>","goog/labs/useragent/highentropy/highentropydata.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2G"]]],["^1>","goog/collections/maps.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","backend/mailtrap/core.cljs"],["7c6e217df188388d34d92c4bc1856ffa04e97039","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","~$shadow.js.shim.module$dotenv","^3>"]]],["^1>","goog/fs/url.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/base.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",[]]],["^1>","promesa/core.cljc"],["a4fe657acbb7c1b0539820874bab2fa0b59bb229","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^1F","^E","^2Q","~$promesa.impl","^2P"]]],["^1>","goog/structs/structs.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^39","^3:"]]],["^1>","backend/mailtrap/email_templates.cljs"],["c90c0555f398d2f454a379143644279378f4d5a6","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E"]]],["^1>","goog/string/string.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.dom.safe","^34","^2N","^2I"]]],["^1>","goog/reflect/reflect.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","goog/labs/useragent/util.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2I","^2K"]]],["^1>","goog/string/stringbuffer.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","promesa/protocols.cljc"],["a4fe657acbb7c1b0539820874bab2fa0b59bb229","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E"]]],["^1>","goog/labs/useragent/useragent.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.flags"]]],["^1>","goog/dom/element.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^3=","^35"]]],["^1>","goog/html/uncheckedconversions.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","^32","^2X","^33","^37","^2Z","^2M","^2N","^2I"]]],["^1>","goog/dom/htmlelement.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y"]]],["^1>","cljs/core.cljs"],["b89362aeac5c1cafea76c798929ee5d385c461d8","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","~$goog.math.Long","~$goog.math.Integer","^3@","^3:","^39","~$goog.Uri","~$goog.string.StringBuffer"]]],["^1>","goog/html/safescript.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2N","^2O","^2Y","^2H"]]],["^1>","goog/html/safestylesheet.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2N","^33","^2O","^3:","^2H","^2I"]]],["^2R","dotenv"],["^3E","shadow.js.shim.module$dotenv.js","require","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2T"]]],["^1>","goog/math/integer.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2V"]]],["^1>","goog/uri/utils.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","^3@"]]],["^1>","goog/string/const.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^2H","^2O"]]],["^1>","backend/mailtrap/emails.cljs"],["5223d22eb2aaad510ae42d95b794171b84559292","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","~$backend.mailtrap.email-templates","~$backend.mailtrap.core"]]],["^1>","promesa/exec.cljc"],["a4fe657acbb7c1b0539820874bab2fa0b59bb229","^2A",["^ ","^2B",null,"^2C",["^H",[]],"^2D",["^Y","^E","^1F","^2P","^3:"]]]]],"~:clj-info",["^ ","jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/edn.clj",1690756440000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/source_map.clj",1715719162000,"jar:file:/Users/john/.m2/repository/funcool/promesa/10.0.594/promesa-10.0.594.jar!/promesa/impl.cljc",1735689384000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/analyzer.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/analyzer/passes/and_or.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/tools/reader/reader_types.clj",1715719162000,"jar:file:/Users/john/.m2/repository/funcool/promesa/10.0.594/promesa-10.0.594.jar!/promesa/core.cljc",1735689384000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/tools/reader/impl/errors.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/instant.clj",1690756440000,"jar:file:/Users/john/.m2/repository/funcool/promesa/10.0.594/promesa-10.0.594.jar!/promesa/util.cljc",1735689384000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/pprint.clj",1690756440000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/tools/reader/default_data_readers.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/compiler.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/util.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/tagged_literals.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/env.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/analyzer/impl/namespaces.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/funcool/promesa/10.0.594/promesa-10.0.594.jar!/promesa/protocols.cljc",1735689384000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/core.clj",1690756440000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/tools/reader.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/analyzer/passes.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/source_map/base64.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/tools/reader/impl/inspect.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/instant.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/analyzer/impl.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/core.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/set.clj",1690756440000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/js_deps.cljc",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/java/io.clj",1690756440000,"jar:file:/Users/john/.m2/repository/funcool/promesa/10.0.594/promesa-10.0.594.jar!/promesa/exec.cljc",1735689384000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/vendor/clojure/data/json.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/source_map/base64_vlq.clj",1715719162000,"jar:file:/Users/john/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/string.clj",1690756440000,"jar:file:/Users/john/.m2/repository/org/clojure/clojurescript/1.11.132/clojurescript-1.11.132.jar!/cljs/externs.clj",1715719162000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",1,"^8",5,"^9",1,"^:",41],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C","^D","^E"],"^F",null,"^G",["^H",[]],"~:shadow/js-access-properties",["^H",["floor","random","hash","env","now","findOne"]],"^I","^J","^K",["^ "],"^L",["^ ","^M","^N","^O","^P"],"^S",null,"^T",["^ ","^U","^N","^V","^W","~$p","^X","^X","^X","^E","^E","^Y","^Y","^P","^P","^Z","^Z","^W","^W","^N","^N","^[","^P","^10","^Z"],"^11",["^H",["^12"]],"~:shadow/js-access-global",["^H",["process","Date","Math"]],"^13",null,"~:defs",["^ ","~$get-env",["^ ","~:protocol-inline",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",9,"^8",7,"^9",9,"^:",14,"~:arglists",["^16",["~$quote",["^16",[["~$key"]]]]]],"^I","^1Q","^6","backend/controllers/auth_controllers.cljs","^:",14,"~:method-params",["^16",[["^4N"]]],"~:protocol-impl",null,"~:arglists-meta",["^16",[null,null]],"^8",1,"~:variadic?",false,"^7",9,"~:ret-tag","~$any","^9",9,"~:max-fixed-arity",1,"~:fn-var",true,"^4L",["^16",["^4M",["^16",[["^4N"]]]]]],"~$generate-token",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",12,"^8",7,"^9",12,"^:",21,"^4L",["^16",["^4M",["^16",[[]]]]]],"^I","^2=","^6","backend/controllers/auth_controllers.cljs","^:",21,"^4O",["^16",[[]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",12,"^4S","~$string","^9",12,"^4U",0,"^4V",true,"^4L",["^16",["^4M",["^16",[[]]]]]],"~$generate-token-and-set-cookies",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",18,"^8",7,"^9",18,"^:",37,"^4L",["^16",["^4M",["^16",[["~$res","~$user-id","~$secret"]]]]]],"^I","^1T","^6","backend/controllers/auth_controllers.cljs","^:",37,"^4O",["^16",[["^4Z","^4[","^50"]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",18,"^4S","^1G","^9",18,"^4U",3,"^4V",true,"^4L",["^16",["^4M",["^16",[["^4Z","^4[","^50"]]]]]],"~$handle-sign-up",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",28,"^8",7,"^9",28,"^:",21,"^4L",["^16",["^4M",["^16",[["^4Z",["^ ","~:keys",["~$email","~$password","~$name"]]]]]]]],"^I","^1N","^6","backend/controllers/auth_controllers.cljs","^:",21,"^4O",["^16",[["^4Z","~$p__12172"]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",28,"^4S","^1G","^9",28,"^4U",2,"^4V",true,"^4L",["^16",["^4M",["^16",[["^4Z",["^ ","^52",["^53","^54","^55"]]]]]]]],"~$sign-up",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",63,"^8",7,"^9",63,"^:",14,"^4L",["^16",["^4M",["^16",[[]]]]]],"^I","^23","^6","backend/controllers/auth_controllers.cljs","^:",14,"^4O",["^16",[[]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",63,"^4S","~$function","^9",63,"^4U",0,"^4V",true,"^4L",["^16",["^4M",["^16",[[]]]]]],"~$login",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",89,"^8",7,"^9",89,"^:",12,"^4L",["^16",["^4M",["^16",[[]]]]]],"^I","^21","^6","backend/controllers/auth_controllers.cljs","^:",12,"^4O",["^16",[[]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",89,"^4S","^58","^9",89,"^4U",0,"^4V",true,"^4L",["^16",["^4M",["^16",[[]]]]]],"~$logout",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",115,"^8",7,"^9",115,"^:",13,"^4L",["^16",["^4M",["^16",[[]]]]]],"^I","^25","^6","backend/controllers/auth_controllers.cljs","^:",13,"^4O",["^16",[[]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",115,"^4S","^58","^9",115,"^4U",0,"^4V",true,"^4L",["^16",["^4M",["^16",[[]]]]]],"~$verify-email",["^ ","^4K",null,"^5",["^ ","^6","backend/controllers/auth_controllers.cljs","^7",124,"^8",7,"^9",124,"^:",19,"^4L",["^16",["^4M",["^16",[[]]]]]],"^I","^1S","^6","backend/controllers/auth_controllers.cljs","^:",19,"^4O",["^16",[[]]],"^4P",null,"^4Q",["^16",[null,null]],"^8",1,"^4R",false,"^7",124,"^4S","^58","^9",124,"^4U",0,"^4V",true,"^4L",["^16",["^4M",["^16",[[]]]]]]],"^14",["^ ","^E","^E","~$p","^X","^X","^X"],"~:cljs.analyzer/constants",["^ ","^11",["^H",["~:_id","~:email","~:password","^I","~:user-id","~:keywordize-keys"]],"~:order",["^5@","^5>","^5?","^I","^5=","^5A"]],"^19",["^ ","^12",["^H",[]]],"^1:",[["^ ","^18","^U","^1;","bcryptjs"],["^ ","^18","^[","^1;","jsonwebtoken"]],"^1<",["^Y","^E","^N","^P","^X","^W","^Z"]],"^R","^J","~:ns-specs",["^ "],"~:ns-spec-vars",["^H",[]],"~:compiler-options",["^2@",[["^5E","~:static-fns"],true,["~:js-options","~:use-babel"],null,["^5E","~:shadow-tweaks"],null,["^5E","~:source-map-inline"],null,["^5E","~:shadow-optimize-constants"],null,["^5E","~:elide-asserts"],false,["^5E","~:optimize-constants"],null,["^5E","^1A"],null,["^5E","~:external-config"],null,["^5E","~:tooling-config"],null,["^5E","~:emit-constants"],null,["^5E","~:load-tests"],null,["^5E","~:form-size-threshold"],null,["^5E","~:global-goog-object&array"],null,["^5E","~:data-readers"],null,["^5E","~:infer-externs"],"~:auto",["^5E","^1C"],null,["^5G","~:js-provider"],"^12",["~:mode"],"~:dev",["^5E","~:fn-invoke-direct"],null,["^5E","~:source-map"],"/dev/null"]]]