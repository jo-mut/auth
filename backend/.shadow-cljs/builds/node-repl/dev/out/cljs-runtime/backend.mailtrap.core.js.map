{"version":3,"sources":["backend/mailtrap/core.cljs"],"mappings":";AAKA,AAASA;AACT,AAAKC,8BAAM,AAAkBC;AAE7B,0CAAA,1CAAMC;AAAN,AACE,IAAMC,SAAO,KAAAC,8CAAA,WAA6BJ;aAA1C,WAAA,kCAAA,tDACMK;iBADN,CAAA,WAAA,zBAGMC;AAHN,OAKG,YAAA,+CAAA,4BAAA,8DAAA,rJAAOH,sBAAqBE,cACAC,pCAI5B,gLAAO,WAAKC,lMAEZ;AAFO,AACE,mBAAA,ZAACC,oCAAuCD;UACzC,WAAKE;AAAL,AACE,mBAAA,ZAACD,mCAAsCC;;;AAEtD,AAACP","names":["js/shadow.js.shim.module$dotenv","backend.mailtrap.core/TOKEN","js/process.env","backend.mailtrap.core/initialize-client","client","js/shadow.js.shim.module$mailtrap.MailtrapClient","sender","recipients","res","js/console.log","err"],"sourcesContent":["(ns backend.mailtrap.core\n  (:require\n   [\"dotenv\" :as dotenv]\n   [\"mailtrap\" :refer [MailtrapClient]]))\n\n(.config dotenv)\n(def TOKEN (.-MAILTRAP_TOKEN js/process.env))\n\n(defn initialize-client []\n  (let [client (MailtrapClient. #js {:token TOKEN})\n        sender #js {:email \"hello@demomailtrap.com\"\n                    :name \"JMN\"}\n        recipients #js [ #js {:email \"johnmutuku628@gmail.com\"}]]\n    (->\n     (.send client #js {:from    sender\n                        :to      recipients\n                        :subject \"You are awesome!\"\n                        :text    \"Congrats for sending test email with Mailtrap!\"\n                        :category \"Integration Test\"})\n     (.then (fn [res]\n              (js/console.log \"Email sent succefully\" res)))\n     (.catch (fn [err]\n               (js/console.log \"Failed to send email\" err))))))\n\n(initialize-client)"]}